function wpppfm_addPromotionElement(t){var e=jQuery("#wpppfm-promotion-wrapper-template").clone();wpppfm_changePromotionElementIds(e,"template",t),jQuery(".wpppfm-promotions-group-area").append(e),e.show(),wpppfm_activateSelect2Elements(t),wpppfm_initiateDatePickers(t)}function wpppfm_changePromotionElementIds(t,e,r){t.attr("id",`wpppfm-promotion-wrapper-${r}`),t.find("section").each(function(){var t=jQuery(this).attr("id").replace(e,r);jQuery(this).attr("id",t)}),t.find("div").each(function(){var t=jQuery(this).attr("id");if(t){var i=t.replace(e,r);jQuery(this).attr("id",i)}}),t.find("div").each(function(){var t=jQuery(this).attr("name");if(t){var i=t.replace(e,r);jQuery(this).attr("name",i)}}),t.find("tr").each(function(){var t=jQuery(this).attr("id").replace(e,r);jQuery(this).attr("id",t)}),t.find("input").each(function(){var t=jQuery(this).attr("id").replace(e,r),i=jQuery(this).attr("data-attribute-key");jQuery(this).attr("id",t),jQuery(this).attr("onChange",`wpppfm_promotionsInputChanged('${i}', '${r}')`)}),t.find("select").each(function(){var t=jQuery(this).attr("id").replace(e,r),i=jQuery(this).attr("data-attribute-key");jQuery(this).attr("id",t),jQuery(this).attr("data-select2-id","select2-data-"+t),jQuery(this).attr("onChange",`wpppfm_promotionsInputChanged('${i}', '${r}')`)}),t.find("label").each(function(){var t=jQuery(this).attr("for");if(t){var i=t.replace(e,r);jQuery(this).attr("for",i)}}),t.find("a").each(function(){var t=jQuery(this).attr("href").replace(e,r);jQuery(this).attr("href",t);var i=jQuery(this).attr("id");if(i){var o=i.replace(e,r);jQuery(this).attr("id",o)}var p=jQuery(this).attr("onClick");if(p){var a=p.replace(e,r);jQuery(this).attr("onClick",a)}})}function wpppfm_activateSelect2Elements(t){jQuery(`#wpppfm-promotion-destination-input-field-${t}`).select2({data:_promotionsFeedHolder.promotion_destination_options,width:"90%"}),jQuery(`#wpppfm-product-filter-selector-include-input-field-${t}`).select2({data:_promotionsFeedHolder.promotion_filter_options,width:"90%"}),jQuery(`#wpppfm-product-filter-selector-exclude-input-field-${t}`).select2({data:_promotionsFeedHolder.promotion_filter_options,width:"90%"})}function wpppfm_tunePromotionElements(){1>=_promotionsFeedHolder.promotions.length?jQuery("#wpppfm-promotion-delete-button-0").hide():jQuery("#wpppfm-promotion-delete-button-0").show()}function wpppfm_reorderPromotionElements(){var t=0;jQuery(".wpppfm-promotion-wrapper").each(function(){var e=jQuery(this).attr("id").split("-")[3];"template"!==e&&(wpppfm_changePromotionElementIds(jQuery(this),e,t),t++)})}function wpppfm_removePromotionElement(t){jQuery(`#wpppfm-promotion-wrapper-${t}`).remove()}