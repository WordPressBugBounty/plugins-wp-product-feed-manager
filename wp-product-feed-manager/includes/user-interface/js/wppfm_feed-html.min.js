function wppfm_staticInputField(e,t,p,n){return'<input type="text" name="static-input-field" id="static-input-field-'+e+"-"+t+"-"+p+'" class="static-input-field" value="'+(n=wppfm_escapeHtml(n))+'" onchange="wppfm_staticValueChanged('+e+", "+t+", "+p+')">'}function wppfm_feedStaticValueSelector(e,t,p,n,i,o){return wppfm_restrictedStaticFields(o,e).length>0?wppfm_displayCorrectStaticField(t,p,n,o,e,i):wppfm_staticInputField(t,p,n,i)}function wppfm_staticInputSelect(e,t,p,n,i){var o='<div class="wppfm-select-control wppfm-static-value-control" id="static-value-control-'+e+"-"+t+"-"+p+'">';o+='<select class="wppfm-static-select-control wppfm-select-control input-select" id="static-condition-input-'+e+"-"+t+"-"+p+'" onchange="wppfm_staticValueChanged('+e+", "+t+", "+p+')">';for(var a=0;a<n.length;a++){var s="object"!=typeof n[a]?n[a]:n[a].id,l="object"!=typeof n[a]?n[a]:n[a].value;o+=s!==i?'<option value="'+s+'">'+l.replaceAll("_"," ")+"</option>":'<option value="'+s+'" selected>'+l.replaceAll("_"," ")+"</option>"}return o+"</select></div>"}function wppfm_advisedSourceSelector(e,t,p){return'<div class="advised-source">'+p+wppfm_editSourceSelector(e,t)+"</div>"}function wppfm_editSourceSelector(e,t){return' (<a class="edit-output wppfm-btn wppfm-btn-small" href="javascript:void(0)" onclick="wppfm_editOutput( '+e+", "+t+' )">'+wppfm_feed_settings_form_vars.edit+"</a>)"}function wppfm_forAllProductsCondition(e,t,p){var n=t>0?wppfm_feed_settings_form_vars.other+" ":"";return'<div class="wppfm-colw wppfm-col40w allproducts" id="condition-col-'+e+"-"+t+'" style="display:'+p+'"> '+wppfm_feed_settings_form_vars.all_other_products.replace("%other%",n)+' (<a class="edit-prod-query wppfm-btn wppfm-btn-small" href="javascript:void(0)" id="edit-prod-query-'+e+'" onclick="wppfm_addCondition( '+e+", "+t+", 0, '' )\">"+wppfm_feed_settings_form_vars.edit+"</a>)</div>"}function wppfm_editValueSpan(e,t,p){return'<div class="wppfm-attribute-column wppfm-edit-value-column" id="value-editor-input-query-add-span-'+e+"-"+t+"-"+p+'">(<a class="edit-prod-query wppfm-btn wppfm-btn-small" href="javascript:void(0)" id="edit-row-value-'+e+"-"+t+"-"+p+'" onclick="wppfm_addRowValueEditor('+e+", "+t+", "+p+", '')\">"+wppfm_feed_settings_form_vars.edit_values+"</a>)</div>"}function wppfm_addFeedSourceRow(e,t,p,n,i){var o=i?wppfm_removeOutputCntrl(e,p.fieldName):"",a='<div class="wppfm-attribute-row" id="source-'+e+"-"+t+'">';return a+='<div class="wppfm-attribute-column wppfm-colw wppfm-col20w" id="wppfm-attribute-title-column">',a+=0===t?'<span class="wppfm-attribute-label">'+p.fieldName+"</span>"+o:"&nbsp;",a+="</div>",a+=wppfm_addSourceDataAndQueriesColumn(t,p),0===t&&0===p.changeValues.length&&(a+=wppfm_editValueSpan(p.rowId,t,0)),a+"</div>"}function wppfm_removeOutputCntrl(e,t){return'<a class="wppfm-remove-output wppfm-btn wppfm-btn-small" href="javascript:void(0)" id="'+(e+'" onclick="wppfm_removeRow(')+e+", '"+t+"')\">( "+wppfm_feed_settings_form_vars.remove+" )</a>"}function wppfm_conditionQueryCntrl(e,t,p,n,i,o,a){for(var s=wppfm_queryOptionsEng(),l='<select class="wppfm-select-control condition-query-select" id="'+i+"-"+e+"-"+t+"-"+p+(-1!==n?"-"+n:"")+'" onchange="'+o+"("+e+", "+t+", "+p+(-1!==n?", "+n:"")+')"> ',r=0;r<s.length;r++)l+=parseInt(a)!==r?'<option value = "'+r+'">'+s[r]+"</option>":'<option value = "'+r+'" selected>'+s[r]+"</option>";return l+"</select>"}function wppfm_valueEditor(e,t,p,n){var i=wppfm_valueStringToValueObject(n[t]),o=n[p]&&n[p].q?"none":"initial",a=wppfm_countObjectItems(i)>0?i:wppfm_makeCleanValueObject(),s=wppfm_feed_settings_form_vars.and_change_values+" ",l='<div class="change-source-value-wrapper" id="edit-value-span-'+e+"-"+t+'-0">',r=0===t?' (<a class="remove-value-editor-query wppfm-btn wppfm-btn-small" href="javascript:void(0)" id="remove-value-editor-query-'+e+"-"+t+"-"+p+'" onclick="wppfm_removeValueEditor('+e+", "+t+", "+p+')">'+wppfm_feed_settings_form_vars.remove_value_editor+"</a>)":"";if(t>0&&(s=wppfm_feed_settings_form_vars.and+" "),l+='<div class="wppfm-attribute-column wppfm-colw wppfm-col20w" id="wppfm-attribute-title-column">&nbsp</div>',l+='<div class="wppfm-attribute-column source-selector wppfm-colw wppfm-col30w" id="source-select-'+e+"-"+t+'">',l+=s,l+=wppfm_changeValueCntrl(e,t,p,a.condition),l+='<span id="value-editor-input-span-'+e+"-"+t+'-0">',l+=wppfm_getCorrectValueSelector(e,t,p,a.condition,a.value,a.endValue),l+="</span>",l+='<span id="value-editor-selectors-'+e+"-"+t+"-"+p+'">',l+='<span id="value-editor-input-query-remove-span-'+e+"-"+t+"-"+p+'">',l+=r,l+="</span>",l+="</div>",l+='<div class="wppfm-attribute-column condition-selector wppfm-colw" id="condition-data-'+e+"-"+t+'">',l+=wppfm_forAllProductsAtChangeValuesSelector(e,t,p,o),l+="</span>",l+='<span id="value-editor-queries-'+e+"-"+t+'-0">',n[p]&&n[p].q)for(var c=1;c<n[p].q.length+1;c++){var f=wppfm_convertQueryStringToQueryObject(n[p].q[c-1][c]),u=c>=n[p].q.length;l+=wppfm_ifValueQuerySelector(e,t,c,f,u)}return(l+="</div>")+"</span></div>"}function wppfm_endrow(e){return'<div class="end-row" id="end-row-id-'+e+'">&nbsp;</div>'}function wppfm_forAllProductsAtChangeValuesSelector(e,t,p,n){var i=t>0?wppfm_feed_settings_form_vars.other+" ":"";return'<div class="wppfm-colw wppfm-col30w allproducts" id="value-editor-input-query-span-'+e+"-"+t+'-0" style="display:'+n+';">'+wppfm_feed_settings_form_vars.all_other_products.replace("%other%",i)+' (<a class="edit-value-editor-query wppfm-btn wppfm-btn-small" href="javascript:void(0)" id="edit-value-editor-query-'+e+"-"+t+"-"+p+'" onclick="wppfm_addValueEditorQuery('+e+", "+t+', 0)">'+wppfm_feed_settings_form_vars.edit+"</a>)</div>"}function wppfm_valueOptionsSingleInput(e,t,p,n){return" "+wppfm_feed_settings_form_vars.to+wppfm_valueOptionsSingleInputValue(e,t,p,n)}function wppfm_valueOptionsElementInput(e,t,p,n){return" "+wppfm_feed_settings_form_vars.with_element_name+wppfm_valueOptionsSingleInputValue(e,t,p,n)}function wppfm_valueOptionsSingleInputValue(e,t,p,n){return' <input type="text" onchange="wppfm_valueInputOptionsChanged('+e+", "+t+", "+p+')" class="wppfm-value-option-input" id="value-options-input-'+e+"-"+t+"-"+p+'" value="'+(n=wppfm_escapeHtml(n))+'">'}function wppfm_addFeedStatusChecker(e){return'<script type="text/javascript">var wppfmStatusCheck_'+e+" = null; (function(){ wppfmStatusCheck_"+e+" = window.setInterval( wppfm_checkAndSetStatus_"+e+", 10000, "+e+" ); })(); function wppfm_checkAndSetStatus_"+e+'( feedId ) {wppfm_getCurrentFeedStatus( feedId, function( result ) {var data = JSON.parse( result );wppfm_resetFeedStatus( data );if( data["status_id"] !== "3" && data["status_id"] !== "4" ) {window.clearInterval( wppfmStatusCheck_'+e+" );}} );}<\/script>"}function wppfm_valueOptionsReplaceInput(e,t,p,n,i){return'<input type="text" onchange="wppfm_valueInputOptionsChanged('+e+", "+t+", "+p+' )" id="value-options-input-'+e+"-"+t+"-"+p+'" value="'+(n=wppfm_escapeHtml(n))+'"> with <input type="text" onchange="wppfm_valueInputOptionsChanged('+e+", "+t+", "+p+')" id="value-options-input-with-'+e+"-"+t+"-"+p+'" value="'+i+'">'}function wppfm_valueOptionsRecalculate(e,t,p,n,i){for(var o=wppfm_changeValuesRecalculateOptions(),a='<select class="select-value-options" id="value-options-recalculate-options-'+e+"-"+t+'-0">',s=0;s<o.length;s++)a+=o[s]!==n?'<option value = "'+s+'">'+o[s]+"</option>":'<option value = "'+s+'" selected>'+o[s]+"</option>";return(a+="</select>")+' <input type="text" onchange="wppfm_valueInputOptionsChanged('+e+", "+t+", "+p+')" id="value-options-input-'+e+"-"+t+"-"+p+'" value="'+i+'">'}function wppfm_changeValueCntrl(e,t,p,n){for(var i=wppfm_changeValuesOptions(),o='<select class="select-value-options" id="value-options-'+e+"-"+t+"-"+p+'" onchange="wppfm_valueOptionChanged('+e+", "+t+', 0)"> ',a=0;a<i.length;a++)o+=i[a]!==n?'<option value = "'+a+'">'+i[a]+"</option>":'<option value = "'+a+'" selected>'+i[a]+"</option>";return o+"</select>"}function wppfm_mapToDefaultCategoryElement(e,t){var p,n;switch(t){case"default":p=wppfm_feed_settings_form_vars.map_to_default_category;break;case"shopCategory":p=wppfm_feed_settings_form_vars.use_shop_category;break;default:p=t}return"shopCategory"!==t&&(n=' (<a class="edit-feed-mapping wppfm-btn wppfm-btn-small" href="javascript:void(0)" data-id="'+e+'" id="edit-feed-mapping-'+e+'" onclick="wppfm_editCategoryMapping('+e+')">'+wppfm_feed_settings_form_vars.edit+"</a>)"),'<div class="feed-category-map-to-default" id="feed-category-map-to-default-'+e+'" style="display:initial"><span id="category-text-span-'+e+'">'+p+"</span>"+n+"</div>"}function wppfm_mapToCategoryElement(e,t){return'<div class="feed-category-map" id="feed-category-map-'+e+'" style="display:initial"><span id="category-text-span-'+e+'">'+t+'</span> (<a class="edit-feed-mapping wppfm-btn wppfm-btn-small" href="javascript:void(0)" data-id="'+e+'" id="edit-feed-mapping-'+e+'" onclick="wppfm_editCategoryMapping('+e+')">'+wppfm_feed_settings_form_vars.edit+"</a>)</div>"}function wppfm_categorySource(){return'<span id="category-source-string">'+wppfm_feed_settings_form_vars.defined_by_category_mapping_table+"</span>"}function wppfm_freeCategoryInputCntrl(e,t,p){return'<input type="text" name="free-category" class="free-category-text-input custom-category-'+e+'" id="free-category-text-input" onchange="wppfm_freeCategoryChanged(\''+e+"', '"+t+"')\""+(p?' value="'+p+'"':"")+">"}function wppfm_inputFieldCntrl(e,t,p,n,i,o,a){var s=i?'<option value="advised" itemprop="basic">'+wppfm_feed_settings_form_vars.use_advised_source+"</option>":"",l=n?" selected":"",r=t>0?wppfm_feed_settings_form_vars.or+" ":"",c=o?'<option value="combined" selected>'+wppfm_feed_settings_form_vars.combined_source_fields+"</option>":'<option value="combined" itemprop="basic">'+wppfm_feed_settings_form_vars.combined_source_fields+"</option>",f=a?'<option value="category_mapping" itemprop="basic">'+wppfm_feed_settings_form_vars.category_mapping+"</option>":"";return'<div class="wppfm-select-control">'+r+'<select class="wppfm-select-control input-select wppfm-select2-selector" id="input-field-cntrl-'+e+"-"+t+'" onchange="wppfm_changedOutput('+e+", "+t+", '"+i+'\')"> <option value="select" itemprop="basic">-- '+wppfm_feed_settings_form_vars.select_a_source_field+" --</option>"+s+'<option value="static" itemprop="basic"'+l+">"+wppfm_feed_settings_form_vars.fill_with_static_value+"</option>"+f+c+wppfm_fixedSourcesList(p)+"</select></div>"}function wppfm_combinedInputFieldCntrl(e,t,p,n,i,o){var a=n&&n.startsWith("static#"),s=a?" selected":"",l=a?wppfm_feedStaticValueSelector(i,e,t,p,n.substring(7),o):"";return'<select class="wppfm-select-control input-select align-left wppfm-select2-selector" id="combined-input-field-cntrl-'+e+"-"+t+"-"+p+'" onchange="wppfm_changedCombinedOutput('+e+", "+t+", "+p+')"> <option value="select" itemprop="basic">-- '+wppfm_feed_settings_form_vars.select_a_source_field+' --</option><option value="static" itemprop="basic"'+s+">"+wppfm_feed_settings_form_vars.fill_with_static_value+"</option>"+wppfm_fixedSourcesList(n)+'</select><div class="wppfm-select-control wppfm-static-value-control" id="static-value-control-'+e+"-"+t+"-"+p+'">'+l+"</div>"}function wppfm_combinedSeparatorCntrl(e,t,p,n){return'<select class="wppfm-select-control input-select align-left" id="combined-separator-cntrl-'+e+"-"+t+"-"+p+'" onchange="wppfm_changedCombinationSeparator('+e+", "+t+", "+p+')"> '+wppfm_getCombinedSeparatorList(n)+"</select>"}function wppfm_alternativeInputFieldCntrl(e,t){var p="static"===t?" selected":"";return'<select class="wppfm-select-control alternative-input-select" id="alternative-input-field-cntrl-'+e+'" onchange="wppfm_changedAlternativeSource('+e+')"> <option value="select">-- '+wppfm_feed_settings_form_vars.select_a_source_field+' --</option><option value="empty">-- '+wppfm_feed_settings_form_vars.an_empty_field+' --</option><option value="static"'+p+">"+wppfm_feed_settings_form_vars.fill_with_static_value+"</option>"+wppfm_fixedSourcesList(t)+"</select>"}function wppfm_outputFieldCntrl(e){return'<select class="wppfm-select-control input-select" id="output-field-cntrl-'+e+'"> '+(3===e?'<option value="no-value">-- '+wppfm_feed_settings_form_vars.add_recommended_output+" --</option>":'<option value="no-value">-- '+wppfm_feed_settings_form_vars.add_optional_output+" --</option>")+wppfm_getOutputFieldsList(e)+"</select>"}function wppfm_customOutputFieldCntrl(){return'<input type="text" name="custom-output-title" id="custom-output-title-input" placeholder="Enter an output title" onfocusout="wppfm_changedCustomOutputTitle()">'}function wppfm_conditionFieldCntrl(e,t,p,n,i,o,a){var s=-1!==n?"-"+n:"",l="or-field-cntrl"===i?'<option value="empty">-- '+wppfm_feed_settings_form_vars.an_empty_field+" --</option>":"";return'<select class="wppfm-select-control input-select wppfm-select2-selector" id="'+i+"-"+e+"-"+t+"-"+p+s+'"'+(a?' onchange="'+a+'"':"")+'> <option value="select">-- '+wppfm_feed_settings_form_vars.select_a_source_field+" --</option>"+l+wppfm_fixedSourcesList(o)+"</select>"}function wppfm_filterPreCntrl(e,t,p){var n='<select id="filter-pre-control-'+e+"-"+t+'" onchange="wppfm_filterChanged('+e+", "+t+')">';return t>1?"1"===p?n+'<option value="2">'+wppfm_feed_settings_form_vars.or+'</option><option value="1" selected>'+wppfm_feed_settings_form_vars.and+"</option></select>":n+'<option value="2" selected>'+wppfm_feed_settings_form_vars.or+'</option><option value="1">'+wppfm_feed_settings_form_vars.and+"</option></select>":""}function wppfm_filterSourceCntrl(e,t,p){return'<select class="wppfm-select-control wppfm-select2-selector input-select" id="filter-source-control-'+e+"-"+t+'" onchange="wppfm_filterChanged('+e+", "+t+')"><option value="select">-- '+wppfm_feed_settings_form_vars.select_a_source_field+" --</option>"+wppfm_fixedSourcesList(p)+"</select>"}function wppfm_filterOptionsCntrl(e,t,p){var n=wppfm_queryOptionsEng(),i='<select class="wppfm-select-control condition-query-select" id="filter-options-control-'+e+"-"+t;i+='" onchange="wppfm_filterChanged('+e+", "+t+')">';for(var o=0;o<n.length;o++)i+=parseInt(p)!==o?'<option value = "'+o+'">'+n[o]+"</option>":'<option value = "'+o+'" selected>'+n[o]+"</option>";return i+"</select>"}function wppfm_filterInputCntrl(e,t,p,n){var i,o=e+"-"+t+"-"+p,a=p>1?" "+wppfm_feed_settings_form_vars.and+" ":"",s=1===p?1:3;return'<span id="filter-input-span-'+o+'"'+((i=p>1?n&&n.includes("#")?n.split("#")[s]:"":n||"")?'style="display:initial"':'style="display:none"')+">"+a+'<input type="text" name="filter-value" id="filter-input-control-'+o+'" onchange="wppfm_filterChanged('+e+", "+t+", "+p+')" value="'+i+'"></span>'}